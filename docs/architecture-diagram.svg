<?xml version="1.0" encoding="UTF-8"?>
<svg width="800" height="600" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .title { font-family: Arial, sans-serif; font-size: 16px; font-weight: bold; text-anchor: middle; }
      .subtitle { font-family: Arial, sans-serif; font-size: 12px; text-anchor: middle; }
      .frontend { fill: #e1f5fe; stroke: #01579b; stroke-width: 2; }
      .gateway { fill: #f3e5f5; stroke: #4a148c; stroke-width: 2; }
      .api { fill: #e8f5e8; stroke: #1b5e20; stroke-width: 2; }
      .data { fill: #fff3e0; stroke: #e65100; stroke-width: 2; }
      .queue { fill: #fce4ec; stroke: #880e4f; stroke-width: 2; }
      .external { fill: #f1f8e9; stroke: #33691e; stroke-width: 2; }
      .arrow { stroke: #333; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333" />
    </marker>
  </defs>
  
  <!-- Title -->
  <text x="400" y="30" class="title">Navigation Platform Architecture</text>
  
  <!-- Frontend Layer -->
  <rect x="50" y="60" width="120" height="80" rx="10" class="frontend"/>
  <text x="110" y="85" class="subtitle">Angular 17</text>
  <text x="110" y="100" class="subtitle">Frontend</text>
  <text x="110" y="115" class="subtitle">Port: 4200</text>
  
  <!-- Gateway Layer -->
  <rect x="250" y="60" width="120" height="80" rx="10" class="gateway"/>
  <text x="310" y="85" class="subtitle">YARP</text>
  <text x="310" y="100" class="subtitle">Gateway</text>
  <text x="310" y="115" class="subtitle">Port: 5001</text>
  
  <!-- API Layer -->
  <rect x="450" y="60" width="120" height="80" rx="10" class="api"/>
  <text x="510" y="85" class="subtitle">Journey API</text>
  <text x="510" y="100" class="subtitle">.NET 8</text>
  <text x="510" y="115" class="subtitle">Port: 5000</text>
  
  <rect x="450" y="160" width="120" height="80" rx="10" class="api"/>
  <text x="510" y="185" class="subtitle">Notification</text>
  <text x="510" y="200" class="subtitle">API</text>
  <text x="510" y="215" class="subtitle">Port: 5002</text>
  
  <rect x="450" y="260" width="120" height="80" rx="10" class="api"/>
  <text x="510" y="285" class="subtitle">Reward</text>
  <text x="510" y="300" class="subtitle">Worker</text>
  <text x="510" y="315" class="subtitle">Background</text>
  
  <!-- Data Layer -->
  <rect x="50" y="400" width="120" height="80" rx="10" class="data"/>
  <text x="110" y="425" class="subtitle">PostgreSQL</text>
  <text x="110" y="440" class="subtitle">Database</text>
  <text x="110" y="455" class="subtitle">Port: 5432</text>
  
  <rect x="200" y="400" width="120" height="80" rx="10" class="data"/>
  <text x="260" y="425" class="subtitle">Redis</text>
  <text x="260" y="440" class="subtitle">Cache</text>
  <text x="260" y="455" class="subtitle">Port: 6379</text>
  
  <!-- Message Queue -->
  <rect x="350" y="400" width="120" height="80" rx="10" class="queue"/>
  <text x="410" y="425" class="subtitle">RabbitMQ</text>
  <text x="410" y="440" class="subtitle">Message</text>
  <text x="410" y="455" class="subtitle">Port: 5672</text>
  
  <!-- External Services -->
  <rect x="500" y="400" width="120" height="80" rx="10" class="external"/>
  <text x="560" y="425" class="subtitle">Email</text>
  <text x="560" y="440" class="subtitle">Service</text>
  <text x="560" y="455" class="subtitle">SMTP</text>
  
  <!-- Arrows -->
  <!-- Frontend to Gateway -->
  <line x1="170" y1="100" x2="250" y2="100" class="arrow"/>
  
  <!-- Gateway to APIs -->
  <line x1="370" y1="100" x2="450" y2="100" class="arrow"/>
  <line x1="370" y1="120" x2="450" y2="200" class="arrow"/>
  <line x1="370" y1="140" x2="450" y2="300" class="arrow"/>
  
  <!-- APIs to Data -->
  <line x1="510" y1="160" x2="110" y2="400" class="arrow"/>
  <line x1="510" y1="180" x2="260" y2="400" class="arrow"/>
  <line x1="510" y1="200" x2="410" y2="400" class="arrow"/>
  
  <!-- Notification API to Email -->
  <line x1="570" y1="200" x2="560" y2="400" class="arrow"/>
  
  <!-- Reward Worker to Message Queue -->
  <line x1="510" y1="340" x2="410" y2="400" class="arrow"/>
  
  <!-- Labels -->
  <text x="210" y="95" class="subtitle">HTTP/HTTPS</text>
  <text x="410" y="95" class="subtitle">API Calls</text>
  <text x="410" y="180" class="subtitle">Notifications</text>
  <text x="410" y="260" class="subtitle">Background Jobs</text>
  <text x="310" y="350" class="subtitle">Database</text>
  <text x="310" y="365" class="subtitle">Operations</text>
  <text x="410" y="350" class="subtitle">Caching</text>
  <text x="410" y="365" class="subtitle">&amp; Sessions</text>
  <text x="460" y="350" class="subtitle">Message</text>
  <text x="460" y="365" class="subtitle">Queue</text>
  <text x="560" y="350" class="subtitle">Email</text>
  <text x="560" y="365" class="subtitle">Delivery</text>
</svg>
